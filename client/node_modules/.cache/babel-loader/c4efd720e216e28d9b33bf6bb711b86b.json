{"ast":null,"code":"import _regeneratorRuntime from\"/Users/zowie/Desktop/chat_box/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/zowie/Desktop/chat_box/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/zowie/Desktop/chat_box/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import axios from\"axios\";import{useHistory}from\"react-router-dom\";import\"./app.scss\";var Register=function Register(){var history=useHistory();var _useState=useState(),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var registerHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return axios.post(\"http://localhost:5000/register\",{user_name:name,user_password:password});case 3:res=_context.sent;if(res.data.authToken){localStorage.setItem(\"auth\",res.data.authToken);localStorage.setItem(\"id\",res.data.userId);localStorage.setItem(\"name\",name);console.log(res.data);history.push(\"/join\");}else{setError(res.data.message);}case 5:case\"end\":return _context.stop();}}},_callee);}));return function registerHandler(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h1\",null,\"Sign Up\"),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",{for:\"fname\"},\"Nick Name\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",onChange:function onChange(e){setName(e.target.value);}})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",{for:\"password\"},\"Password\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",onChange:function onChange(e){setPassword(e.target.value);}})),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(e){registerHandler(e);}},\"Sign Up\"),error!==null&&/*#__PURE__*/React.createElement(\"p\",null,error));};export default Register;","map":{"version":3,"sources":["/Users/zowie/Desktop/chat_box/client/src/components/Register.js"],"names":["React","useState","axios","useHistory","Register","history","name","setName","password","setPassword","error","setError","registerHandler","e","preventDefault","post","user_name","user_password","res","data","authToken","localStorage","setItem","userId","console","log","push","message","target","value"],"mappings":"kWAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAO,YAAP,CAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACrB,GAAMC,CAAAA,OAAO,CAAGF,UAAU,EAA1B,CADqB,cAEGF,QAAQ,EAFX,wCAEdK,IAFc,eAERC,OAFQ,8BAGWN,QAAQ,EAHnB,yCAGdO,QAHc,eAGJC,WAHI,8BAIKR,QAAQ,CAAC,IAAD,CAJb,yCAIdS,KAJc,eAIPC,QAJO,eAMrB,GAAMC,CAAAA,eAAe,0FAAG,iBAAOC,CAAP,0HACtBA,CAAC,CAACC,cAAF,GADsB,sBAEJZ,CAAAA,KAAK,CAACa,IAAN,CAAW,gCAAX,CAA6C,CAC7DC,SAAS,CAAEV,IADkD,CAE7DW,aAAa,CAAET,QAF8C,CAA7C,CAFI,QAEhBU,GAFgB,eAMtB,GAAIA,GAAG,CAACC,IAAJ,CAASC,SAAb,CAAwB,CACtBC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAA6BJ,GAAG,CAACC,IAAJ,CAASC,SAAtC,EACAC,YAAY,CAACC,OAAb,CAAqB,IAArB,CAA2BJ,GAAG,CAACC,IAAJ,CAASI,MAApC,EACAF,YAAY,CAACC,OAAb,CAAqB,MAArB,CAA6BhB,IAA7B,EACAkB,OAAO,CAACC,GAAR,CAAYP,GAAG,CAACC,IAAhB,EACAd,OAAO,CAACqB,IAAR,CAAa,OAAb,EACD,CAND,IAMO,CACLf,QAAQ,CAACO,GAAG,CAACC,IAAJ,CAASQ,OAAV,CAAR,CACD,CAdqB,sDAAH,kBAAff,CAAAA,eAAe,4CAArB,CAiBA,mBACE,4CACE,wCADF,cAEE,4CACE,6BAAO,GAAG,CAAC,OAAX,cADF,cAEE,6BACE,IAAI,CAAC,MADP,CAEE,QAAQ,CAAE,kBAACC,CAAD,CAAO,CACfN,OAAO,CAACM,CAAC,CAACe,MAAF,CAASC,KAAV,CAAP,CACD,CAJH,EAFF,CAFF,cAWE,4CACE,6BAAO,GAAG,CAAC,UAAX,aADF,cAEE,6BACE,IAAI,CAAC,UADP,CAEE,QAAQ,CAAE,kBAAChB,CAAD,CAAO,CACfJ,WAAW,CAACI,CAAC,CAACe,MAAF,CAASC,KAAV,CAAX,CACD,CAJH,EAFF,CAXF,cAoBE,8BACE,OAAO,CAAE,iBAAChB,CAAD,CAAO,CACdD,eAAe,CAACC,CAAD,CAAf,CACD,CAHH,YApBF,CA2BGH,KAAK,GAAK,IAAV,eAAkB,6BAAIA,KAAJ,CA3BrB,CADF,CA+BD,CAtDD,CAwDA,cAAeN,CAAAA,QAAf","sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\nimport \"./app.scss\";\n\nconst Register = () => {\n  const history = useHistory();\n  const [name, setName] = useState();\n  const [password, setPassword] = useState();\n  const [error, setError] = useState(null);\n\n  const registerHandler = async (e) => {\n    e.preventDefault();\n    const res = await axios.post(\"http://localhost:5000/register\", {\n      user_name: name,\n      user_password: password,\n    });\n    if (res.data.authToken) {\n      localStorage.setItem(\"auth\", res.data.authToken);\n      localStorage.setItem(\"id\", res.data.userId);\n      localStorage.setItem(\"name\", name);\n      console.log(res.data);\n      history.push(\"/join\");\n    } else {\n      setError(res.data.message);\n    }\n  };\n\n  return (\n    <div>\n      <h1>Sign Up</h1>\n      <div>\n        <label for=\"fname\">Nick Name</label>\n        <input\n          type=\"text\"\n          onChange={(e) => {\n            setName(e.target.value);\n          }}\n        />\n      </div>\n      <div>\n        <label for=\"password\">Password</label>\n        <input\n          type=\"password\"\n          onChange={(e) => {\n            setPassword(e.target.value);\n          }}\n        />\n      </div>\n      <button\n        onClick={(e) => {\n          registerHandler(e);\n        }}\n      >\n        Sign Up\n      </button>\n      {error !== null && <p>{error}</p>}\n    </div>\n  );\n};\n\nexport default Register;\n"]},"metadata":{},"sourceType":"module"}